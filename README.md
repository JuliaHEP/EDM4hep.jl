# EDM4hep in Julia

Prototype of the [EDM4hep](https://github.com/key4hep/EDM4hep) (generic Event Data Model for HEP experiments part of Key4hep) for Julia with the goal to have very simple structures (isbits) with the purpose to evaluate its ergonomic design and implementation performance.

## PODIO generation
The Julia POD `structs` should be generated from the the [edm4hep.yaml](https://github.com/key4hep/EDM4hep/blob/main/edm4hep.yaml) yaml file using [PODIO](https://github.com/AIDASoft/podio) scripts. For the time being, for this evaluation, the Julia `structs` are generated by hand.

## Main design features
- All EDM4hep entities are **immutable structs** and containing basic types and structs. Including the relationships (one-to-one and one-to-many). Objects attributes cannot be changed. This makes the objects `isbits(obj) == true`.

- Objects are created by default not being registered, they are **free floating**. The user can register them with `register(obj)`.
- Note that operations like `register`, setting  relationships (`add_daughter`,...), etc. **will automatically create a new instances**. The typical pattern is to overwrite the user variable with the new instance, e.g.:
```
p1 = MCParticle(...)
p1 = register(p1)
p1, d1 = add_daugther(p1, MCParticle(...))
``` 


